<!DOCTYPE html>
<html>
<head>
	<title>Search Results</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'search.css') }}">
</head>
<body>
	{ % if us % }
		<p>{{us}}</p>
	{ % endif % }
	<header>
		<nav>
			<div class="filter-menu">
				<form action="{{ url_for('sorted') }}" method="post">
					<div class="search-box">
						<label for="company">Company:</label>
						<input type="text" id="search" placeholder="Filter..." name="Filter-box">
					</div>											
					<br>
					<label for="prices">Price:</label>
					<select id="price" name="price">
						<option value="none">Not Selected</option>
						<option value="asc">Ascending</option>
						<option value="desc">Descending</option>
					</select>
					<br>
					<button type="submit">Apply</button>					
				</form>	
				<form action="{{ url_for('compare') }}" method="post">
					<input type="text" id="store1" name="store1" placeholder="Store 1" class="search-box">
					<input type="text" id="store2" name="store2" placeholder="Store 2" class="search-box">
					<br><br>
					<button type="submit" class="compare-btn">Compare</button>
				</form>
			</div>
			<div class="search-box">
				<form action="{{ url_for('search') }}" method="post">
					<input type="text" id="search" placeholder="Search..." name="search_box">
					<button type="submit">Search<i class="fa fa-search"></i></button>
				</form>
			</div>
		</nav>
	</header>
	<table>
		<thead>
			<tr>
				<th>Details</th>
				<th>Site</th>
				<th>Price</th>
				<th>Link</th>
				<th>Image</th>
			</tr>
		</thead>
		<tbody>
		{% for item in result %}
			<tr>
				<td>{{ item[1] }}</td>
				<td>{{ item[2] }}</td>
				<td>{{ item[3] }}</td>
				<td><a href="{{item[4]}}"><button class="store">Visit</button></a></td>
				<!-- <td>{{item[5]}}</td> -->
				<td><img src="{{ item[5] }}" alt="Cannot load"></td>
			</tr>
			<!-- <tr>
				<td colspan="20"><hr></td>
			</tr> -->
		{% endfor %}
	</tbody>
	</table>
	<!-- <script>
		const form = document.querySelector('form');
		const input = document.querySelector('input');
		const resultsDiv = document.querySelector('#search-results');

		form.addEventListener('submit', (event) => {
			event.preventDefault();
			const query = input.value;
			// Perform search and update search results in the "resultsDiv"
			resultsDiv.innerHTML = `Search results for '${query}'`;
		});
	</script> -->
</body>
</html>
